let enteredKeys = []
let wordsList = [
    'algoz',
    'êxito',
    'sagaz',
    'âmago',
    'mexer',
    'senso',
    'afeto',
    'sutil',
    'inato',
    'cerne',
    'mútuo',
    'audaz',
    'porém',
    'termo',
    'nobre',
    'aquém',
    'ímpio',
    'fazer',
    'seção',
    'vigor',
    'lapso',
    'negro',
    'ideia',
    'genro',
    'desde',
    'posse',
    'fútil',
    'atroz',
    'razão',
    'torpe',
    'expor',
    'ânimo',
    'honra',
    'detém',
    'ardil',
    'gleba',
    'ânsia',
    'ética',
    'poder',
    'ávido',
    'sanar',
    'atrás',
    'pífio',
    'muito',
    'dizer',
    'gesto',
    'digno',
    'corja',
    'justo',
    'tenaz',
    'ceder',
    'anexo',
    'fugaz',
    'vivaz',
    'porra',
    'óbice',
    'cozer',
    'coser',
    'revés',
    'assim',
    'hábil',
    'moral',
    'dever',
    'ébrio',
    'comum',
    'afago',
    'fluir',
    'vício',
    'causa',
    'ontem',
    'censo',
    'reaça',
    'sério',
    'citar',
    'impor',
    'seara',
    'enfim',
    'prole',
    'cisma',
    'pudor',
    'neném',
    'brado',
    'álibi',
    'regra',
    'gerar',
    'égide',
    'obter',
    'louco',
    'crise',
    'pesar',
    'tênue',
    'saber',
    'probo',
    'tenro',
    'pleno',
    'então',
    'viril',
    'óbvio',
    'quiçá',
    'ápice',
    'parvo',
    'bruma',
    'favor',
    'visar',
    'temor',
    'sinto',
    'sábio',
    'denso',
    'tange',
    'desse',
    'reter',
    'jeito',
    'haver',
    'sobre',
    'apraz',
    'senil',
    'sonho',
    'seria',
    'labor',
    'fusão',
    'óbito',
    'usura',
    'criar',
    'culto',
    'temer',
    'rogar',
    'manso',
    'ameno',
    'êxodo',
    'adiar',
    'juízo',
    'presa',
    'revel',
    'forma',
    'clava',
    'birra',
    'pedir',
    'prosa',
    'vácuo',
    'mundo',
    'dogma',
    'estar',
    'fator',
    'tempo',
    'servo',
    'árduo',
    'falar',
    'varão',
    'farsa',
    'mútua',
    'acaso',
    'pulha',
    'forte',
    'falta',
    'cunho',
    'ainda',
    'exato',
    'grato',
    'etnia',
    'fluxo',
    'amplo',
    'saúde',
    'achar',
    'feixe',
    'guisa',
    'assaz',
    'mágoa',
    'parco',
    'caçar',
    'doido',
    'prumo',
    'laico',
    'atuar',
    'feliz',
    'tomar',
    'reles',
    'ritmo',
    'herói',
    'lavra',
    'praxe',
    'haste',
    'noção',
    'vital',
    'cruel',
    'débil',
    'deter',
    'levar',
    'amigo',
    'casal',
    'gozar',
    'graça',
    'matiz',
    'visão',
    'anuir',
    'crivo',
    'finjo',
    'algum',
    'devir',
    'chulo',
    'dúbio',
    'beata',
    'ordem',
    'certo',
    'rigor',
    'saída',
    'sesta',
    'épico',
    'casta',
    'leito',
    'bravo',
    'capaz',
    'vulto',
    'lâmia',
    'salvo',
    'sulco',
    'acima',
    'relva',
    'vênia',
    'mesmo',
    'dorso',
    'possa',
    'cisão',
    'valha',
    'único',
    'peste',
    'valor',
    'fugir',
    'vasto',
    'coisa',
    'valia',
    'tecer',
    'garbo',
    'banal',
    'puxar',
    'sendo',
    'dócil',
    'reger',
    'furor',
    'pobre',
    'árido',
    'igual',
    'maior',
    'breve',
    'ativo',
    'ouvir',
    'senão',
    'falso',
    'selar',
    'velar',
    'anelo',
    'casto',
    'horda',
    'áureo',
    'fitar',
    'viver',
    'olhar',
    'boçal',
    'toada',
    'pompa',
    'morar',
    'gerir',
    'sumir',
    'cópia',
    'voraz',
    'fácil',
    'cabal',
    'leigo',
    'morte',
    'tédio',
    'noite',
    'remir',
    'moção',
    'homem',
    'coeso',
    'união',
    'segue',
    'prece',
    'avião',
    'vimos',
    'coçar',
    'vendo',
    'terno',
    'cesta',
    'tende',
    'venal',
    'aceso',
    'peixe',
    'vazio',
    'claro',
    'sonso',
    'pardo',
    'mesma',
    'façam',
    'motim',
    'hiato',
    'série',
    'pauta',
    'passo',
    'bando',
    'virão',
    'senda',
    'velho',
    'grave',
    'opção',
    'ótica',
    'anciã',
    'rever',
    'saruê',
    'imune',
    'houve',
    'arcar',
    'havia',
    'cauda',
    'pecha',
    'botar',
    'fixar',
    'posso',
    'liame',
    'avaro',
    'flora',
    'covil',
    'força',
    'fenda',
    'fardo',
    'pouco',
    'gente',
    'ponto',
    'jovem',
    'jazia',
    'quota',
    'nódoa',
    'caixa',
    'saiba',
    'vetor',
    'exame',
    'fosse',
    'fauna',
    'lugar',
    'fonte',
    'cioso',
    'advém',
    'prazo',
    'vemos',
    'verba',
    'ardor',
    'ciúme',
    'nicho',
    'preso',
    'feudo',
    'ótimo',
    'época',
    'junto',
    'opaco',
    'apoio',
    'solto',
    'doído',
    'soldo',
    'pegar',
    'tendo',
    'astro',
    'serão',
    'calma',
    'cheio',
    'glosa',
    'órfão',
    'ficar',
    'apego',
    'apelo',
    'canso',
    'lasso',
    'feito',
    'estão',
    'fatal',
    'folga',
    'outro',
    'asilo',
    'deram',
    'bater',
    'crime',
    'supor',
    'signo',
    'finda',
    'plano',
    'fraco',
    'tirar',
    'carro',
    'pajem',
    'súcia',
    'ficha',
    'reses',
    'ígneo',
    'forem',
    'navio',
    'burro',
    'ambas',
    'parte',
    'ruína',
    'mudar',
    'ocaso',
    'massa',
    'credo',
    'brisa',
    'átrio',
    'aonde',
    'nação',
    'legal',
    'xeque',
    'cacho',
    'cover',
    'campo',
    'nível',
    'setor',
    'ideal',
    'rezar',
    'platô',
    'paira',
    'lesse',
    'optar',
    'praga',
    'golpe',
    'bicho',
    'plebe',
    'torso',
    'índio',
    'tanto',
    'praia',
    'sinal',
    'pasmo',
    'abrir',
    'fruir',
    'venho',
    'gênio',
    'ícone',
    'messe',
    'perda',
    'troça',
    'agudo',
    'exijo',
    'aroma',
    'rubro',
    'lindo',
    'puder',
    'prado',
    'reino',
    'malta',
    'turvo',
    'afora',
    'autor',
    'round',
    'irmão',
    'zelar',
    'corpo',
    'supra',
    'traga',
    'vulgo',
    'orgia',
    'certa',
    'ímpar',
    'pisar',
    'lidar',
    'logro',
    'turva',
    'rival',
    'sabia',
    'terra',
    'rouca',
    'ligar',
    'sarau',
    'rapaz',
    'farão',
    'oásis',
    'raiva',
    'quase',
    'papel',
    'recém',
    'alçar',
    'facto',
    'calda',
    'limbo',
    'ereto',
    'elite',
    'pária',
    'fátuo',
    'anais',
    'tenso',
    'estro',
    'cousa',
    'meiga',
    'líder',
    'antro',
    'livro',
    'retém',
    'firme',
    'verso',
    'sítio',
    'trama',
    'prova',
    'ciclo',
    'traço',
    'pagem',
    'Crush',
    'Orgia',
    'Redir',
    'Saruê',
    'Laico',
    'Quiçá',
    'Sonso',
    'Praxe',
    'épico',
    'Chará',
    'ápice',
    'Tênue',
    'Chato',
    'Nigga',
    'Treta',
    'Blasé',
    'ética',
    'Dogma',
    'Foder',
    'Chuca',
    'Pífio',
    'Migué',
    'Vulgo',
    'Carma',
    'Sanar',
    'Porre',
    'óbice',
    'Visse',
    'Atrás',
    'Honra',
    'Hábil',
    'Prego',
    'Placa',
    'Tosco',
    'Mercê',
    'Parça',
    'Revel',
    'Cevas',
    'Aquém',
    'Etnia',
    'Juízo',
    'Legal',
    'Causo',
    'Emana',
    'Ambos',
    'Crivo',
    'Pitel',
    'Fosse',
    'Caiba',
    'Foyer',
    'Viado',
    'Pagão',
    'ágape',
    'Puder',
    'Sigla',
    'Coito',
    'Banzo',
    'Casal',
    'égide',
    'Lauda',
    'Glosa',
    'Ranço',
    'Bunda',
    'Meiga',
    'Boçal',
    'Xibiu',
    'Pífia',
    'Moral',
    'Pária',
    'Dengo',
    'Gíria',
    'Presa',
    'Prole',
    'Arigó',
    'Massa',
    'Racha',
    'Coeso',
    'Vênia',
    'Besta',
    'Vetar',
    'Cagão',
    'Kenga',
    'Calão',
    'Mídia',
    'Cerne',
    'Foram',
    'Tange',
    'Michê',
    'Moção',
    'Trupe',
    'Nicho',
    'Perua',
    'Chula',
    'Mútua',
    'Hiato',
    'áurea',
    'Paira',
    'ímpio',
    'Pondo',
    'Grelo',
    'Posso',
    'Vácuo',
    'Chola',
    'Preze',
    'Sagaz',
    'Dando',
    'Bosta',
    'Marra',
    'Amiga',
    'Torço',
    'Afeta',
    'Culto',
    'Pauta',
    'Exita',
    'Curro',
    'Leiga',
    'Ninfa',
    'Cútis',
    'Jirau',
    'Pudor',
    'Conta',
    'Plena',
    'êxito',
    'Limbo',
    'Prezo',
    'Harém',
    'Viçar',
    'Coxas',
    'Burro',
    'Fútil',
    'Coube',
    'Expus',
    'Sutil',
    'Tendo',
    'Bedel',
    'Sendo',
    'Morga',
    'Tocar',
    'Pemba',
    'Lapso',
    'Manjo',
    'Horda',
    'Verve',
    'Caído',
    'Tenra',
    'Sarro',
    'Corja',
    'Covil',
    'Advém',
    'Preso',
    'Coque',
    'Stand',
    'Torar',
    'Preza',
    'Tende',
    'Nardo',
    'Feudo',
    'Viril',
    'Parte',
    'Carai',
    'âmago',
    'Pirou',
    'Soube',
    'Relax',
    'Naipe',
    'Troxa',
    'Líder',
    'Termo',
    'Posto',
    'Boque',
    'Valha',
    'Graça',
    'Lugar',
    'Antro',
    'H2so4',
    'Saúde',
    'Lobby',
    'Palas',
    'Páreo',
    'Obsta',
    'Odara',
    'Cagou',
    'Chata',
    'Coesa',
    'Babou',
    'Regra',
    'Mágoa',
    'Dúbia',
    'Bioma',
    'índio',
    'Meigo',
    'Adere',
    'Fugaz',
    'Liame',
    'Poder',
    'Coisa',
    'Bonde',
    'Retro',
    'Bodas',
    'êxodo',
    'Assaz',
    'Neura',
    'Banal',
    'Algoz',
    'Atada',
    'Digna',
    'Norma',
    'Baixa',
    'Varoa',
    'Razão',
    'Surta',
    'Erige',
    'Dobre',
    'Pornô',
    'Açude',
    'Sabei',
    'Xucro',
    'Polir',
    'Trave',
    'Adido',
    'Dinda',
    'Macro',
    'Ponho',
    'Herói',
    'Fuçar',
    'Falar',
    'Pairo',
    'Vosso',
    'Finda',
    'Vigor',
    'Grado',
    'Talha',
    'Unção',
    'Lindo',
    'Cunho',
    'Fodeu',
    'Supra',
    'Voraz',
    'Parco',
    'Causa',
    'Gambé',
    'Certo',
    'Atéia',
    'Manar',
    'Guria',
    'Fomos',
    'Surto',
    'Faina',
    'Zuada',
    'Pariu',
    'Malho',
    'Troço',
    'Então',
    'Guapo',
    'Privo',
    'Zumba',
    'Sarou',
    'Demos',
    'Aliás',
    'Andar',
    'Bolou',
    'Brega',
    'Acesa',
    'Múnus',
    'Caput',
    'Mútuo',
    'Porem',
    'Dotes',
    'Tenda',
    'Pares',
    'Haole',
    'Cesse',
    'Senso',
    'ávido',
    'árdua',
    'Biota',
    'Ficha',
    'Irmos',
    'Fardo',
    'Tezão',
    'Serão',
    'Paris',
    'Invés',
    'Bodou',
    'Jeová',
    'Lócus',
    'Puxou',
    'Quase',
    'Kibar',
    'Devam',
    'Houve',
    'Salve',
    'Citar',
    'Cesso',
    'Bisca',
    'Fadem',
    'Fluxo',
    'Verbo',
    'Anelo',
    'Cabal',
    'Capaz',
    'Sumam',
    'Bague',
    'Terão',
    'Havia',
    'Insta',
    'Deste',
    'ídolo',
    'íamos',
    'Temos',
    'Turba',
    'Bugar',
    'Saído',
    'Suave',
    'Prosa',
    'Pampa',
    'ávida',
    'Xucra',
    'Cisão',
    'Garbo',
    'Denso',
    'Leigo',
    'Posse',
    'Pajem',
    'Autos',
    'Ideal',
    'Peita',
    'Truta',
    'Tê-lo',
    'Desse',
    'Lidar',
    'Manas',
    'Vezes',
    'Vilão',
    'Ornar',
    'Atado',
    'Grupo',
    'Corno',
    'Jeito',
    'Ganja',
    'Ameno',
    'Cioso',
    'União',
    'Sussa',
    'Estar',
    'Rosca',
    'Tenro',
    'Torou',
    'Fucei',
    'Oxalá',
    'Irada',
    'Lábia',
    'Pazes',
    'Gerir',
    'Judeu',
    'Pecha',
    'Atido',
    'Grosa',
    'Amuou',
    'Riste',
    'Alado',
    'Linda',
    'Clava',
    'Pugna',
    'Inato',
    'Mouro',
    'único',
    'Topei',
    'Detém',
    'Reset',
    'Senda',
    'Lorde',
    'Mosto',
    'Picar',
    'Cenho',
    'Ladra',
    'Tiver',
    'Culta',
    'Torpe',
    'Laudo',
    'Cedeu',
    'Valia',
    'Texto',
    'Grude',
    'Pacto',
    'Nobre',
    'Santo',
    'Rusga',
    'Paúra',
    'Tenaz',
    'Zumbi',
    'Torso',
    'Passe',
    'Justo',
    'Tiete',
    'Caída',
    'Ponha',
    'Saite',
    'Manha',
    'Trama',
    'Tédio',
    'Grife',
    'Tribo',
    'Advir',
    'Alude',
    'ícone',
    'Feito',
    'Aluno',
    'Golfo',
    'Douto',
    'Igual',
    'Findo',
    'Pimba',
    'Irmão',
    'Legue',
    'Algia',
    'Fruir',
    'Fundo',
    'Facho',
    'Versa',
    'Exime',
    'Fórum',
    'Shaft',
    'Revés',
    'Detêm',
    'Bossa',
    'Tônus',
    'Remir',
    'Cunhã',
    'Amigo',
    'Afeto',
    'Turbe',
    'Ouvem',
    'Urubu',
    'Comum',
    'Falsa',
    'Mesmo',
    'Frase',
    'Brisa',
    'Andes',
    'Tecer',
    'Possa',
    'Fumar',
    'Galam',
    'Sabão',
    'Hamsá',
    'álibi',
    'Sonsa',
    'Guisa',
    'Venal',
    'Cousa',
    'Istmo',
    'Orixá',
    'Cumim',
    'Enfim',
    'Praza',
    'Marco',
    'Serem',
    'Baguá',
    'Assim',
    'Males',
    'Queda',
    'Axial',
    'Dócil',
    'Quota',
    'Legou',
    'Lavra',
    'Sábia',
    'índex',
    'Deusa',
    'Gabar'
]

const getWord= (wordsList)=> {
    let random = Math.round(Math.random() * (950 - 0) + 0)
    let newString = wordsList[random]
    let newArray = newString.split('')
    const lower = newArray.map(element => {
        return element.toLowerCase();
    });
    // const lower = ['m', 'i', 's', 's', 'a']
    return lower
}
const wordOfTheDay = getWord(wordsList)
let wordOfTheDayTest = [...wordOfTheDay]
const allowesKeys = ["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z", "enter", "backspace"]
console.log(wordOfTheDayTest)

let screen = document.getElementById('tela')
let screenChildren = screen.children

//chamar essa função toda vez que o enter for apertado, desabilitando os slots com conteudo
const unableScreenSlots = () =>{
    for (let child of screenChildren){
        if(child.value != ''){
            child.setAttribute('disabled', '')
        }
    }

    enteredKeys = []
}


const receiveKey = (event) =>{
    const key = (event.key).toLowerCase()

    if(allowesKeys.includes(key)){
        if (enteredKeys.length < 5 && key != 'backspace' && key != 'enter'){
            for (let child of screenChildren){
                        if(child.value == '' && !child.getAttributeNames().includes('disabled')){
                            child.value = key
                            break
                        }
            }
            enteredKeys.push(key)
            console.log(enteredKeys)
        }
        
        if (key == 'enter' && enteredKeys.length == 5){
            insertKeys(enteredKeys)
            unableScreenSlots()
            enteredKeys = []
            wordOfTheDayTest = [...wordOfTheDay]
        }
        
        if (key == 'backspace'){ //
            for (let child of screenChildren){
                if(child.value != '' && child.nextElementSibling?.value == '' && !child.getAttributeNames().includes('disabled')){
                    child.value = ''
                }
            }

            enteredKeys.pop()
            console.log(enteredKeys)
        }
    }
}

let contScreenChild = 0

const insertKeys = (enteredKeys) => {
    if(enteredKeys.toString() == wordOfTheDayTest.toString()){
        for (let child of screenChildren){
            child.value = ''
            child.setAttribute('disabled', '')
            child.classList.remove('botao-quaseacerto')
            child.classList.remove('botao-erro')
            child.classList.add('botao-acerto')
        }

        let final = document.getElementById('final')
        setTimeout(() => {
            for (let child of screenChildren){
                child.value = '!'
            }

            final.classList.add('ativo')
            
        }, 500);
        
    } else {
        let count = 0
        for (let each of enteredKeys){
            if (each == wordOfTheDayTest[count]){
                console.log(`${each} tá no lugar certo`)
                screen.children[contScreenChild].classList.add('botao-acerto') // arrumar
                wordOfTheDayTest[count] = '*'
            } else {
                if (wordOfTheDayTest.includes(each)){
                    console.log(`${each} tá no lugar errado`)
                    screen.children[contScreenChild].classList.add('botao-quaseacerto')
                    wordOfTheDayTest[wordOfTheDayTest.lastIndexOf(each)] = '*'
                    //se incluir mas não bater o index, pinta de amarelo
                }
                else {
                    console.log(`${each} nem existe`)
                    screen.children[contScreenChild].classList.add('botao-erro')
                    //pinta a celular de cinza e vai para a linha de baixo
                }
            }
        
            contScreenChild++
            count++
        }
        wordOfTheDayTest = wordOfTheDay
    }   
}

document.addEventListener('keydown', receiveKey)
document.querySelectorAll(".key-item").forEach((el) => {
    el.addEventListener('click', receiveKey)
})